(()=>{class e{myLibrary=[];get libraryArray(){return this.myLibrary}addBookToLibrary(e){this.myLibrary.push(e)}removeBookFromLibrary(e){this.myLibrary.splice(e,1)}toggleReadStatus(e){this.myLibrary[e].toggleRead()}static createBook(e,t,a,r){let o=r;return{title:e,author:t,pages:a,getRead:()=>o,toggleRead:()=>{o=!o}}}}(()=>{const t=document.querySelector(".books-container"),a=document.querySelector(".modal"),r=document.querySelector(".new-book-btn"),o=new e,n=e.createBook("The Hobbit","J.R.R. Tolkien",295,!1),d=e.createBook("To Kill a Mockingbird","Harper Lee",281,!0),i=e.createBook("Pride and Prejudice","Jane Austen",435,!1),c=e.createBook("The Great Gatsby","F. Scott Fitzgerald",180,!0),s=e.createBook("Wuthering Heights","Emily Bronte",357,!0),l=e.createBook("1984","George Orwell",328,!1);o.addBookToLibrary(n),o.addBookToLibrary(d),o.addBookToLibrary(i),o.addBookToLibrary(c),o.addBookToLibrary(s),o.addBookToLibrary(l);const m=()=>{t.innerHTML="";for(let e=0;e<o.libraryArray.length;e+=1){const a=o.libraryArray[e],r=document.createElement("div"),n=document.createElement("h2"),d=document.createElement("span"),i=document.createElement("h3"),c=document.createElement("p"),s=document.createElement("button"),l=document.createElement("button");n.textContent=a.title,d.textContent="by ",i.textContent=a.author,c.textContent=`${a.pages} pages`,s.textContent=a.getRead()?"Read":"Unread",l.textContent="Ã—",r.classList.add("book-card"),r.dataset.index=e;const m=document.createElement("div");r.appendChild(n),r.appendChild(l).classList.add("remove-book"),m.appendChild(d),m.appendChild(i),r.appendChild(m),r.appendChild(c),r.appendChild(s).classList.add("read-btn"),t.appendChild(r)}};function g(){a.classList.add("hidden"),a.querySelector("form").reset()}t.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(e.target.classList.contains("read-btn")&&(o.toggleReadStatus(e.target.parentNode.dataset.index),m()),e.target.classList.contains("remove-book")&&(o.removeBookFromLibrary(e.target.parentNode.dataset.index),e.target.parentNode.classList.add("transparent"),setTimeout((()=>{m()}),350)))})),a.addEventListener("click",(function(t){if(t.target.closest(".form-container")){if("BUTTON"===t.target.tagName){if("submit"===t.target.getAttribute("type")){t.preventDefault();const a=e.createBook(t.target.form.title.value,t.target.form.author.value,t.target.form.pages.value,t.target.form.read.checked);o.addBookToLibrary(a),m(),g()}"reset"===t.target.getAttribute("type")&&g()}}else g()})),r.addEventListener("click",(()=>{a.classList.remove("hidden")})),m()})()})();